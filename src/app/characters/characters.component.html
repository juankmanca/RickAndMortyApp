<app-nav></app-nav>

<div class="container-md">
  @if(episodeId == '0'){
  <h1 class="text-white">Characters</h1>
  } @else {
  <h1 class="text-white">Characters Of Episode {{episodeId}}</h1>
  }
  <p class="text-white">Welcome to the exciting Rick and Morty series! Explore all the characters the series has to
    offer.</p>
  <div class="mt-2">
    <mat-form-field class="example-full-width">
      <input matInput placeholder="Ex. Rick" (keyup)="filter($event)">
    </mat-form-field>
  </div>
  <div class="row">
    @for (character of filterDataSource; track character.id) {
    <div class="col-sm-12 col-md-4 col-lg-3 mb-3">
      <mat-card class="example-card">
        <img mat-card-image [src]="character.image" alt="Photo of a Shiba Inu">
        <mat-card-content>
          <div class="mt-2">
            <p class="m-0 fw-bold text-uppercase" style="color: #c0f783;">
              {{character.name}}
            </p>
            <p class="text-white m-0">
              <span class="fw-bold m-0">Status:</span> {{character.status}}
            </p>
            <p class="text-white m-0">
              <span class="fw-bold">Gender:</span> {{character.gender}}
            </p>
          </div>
        </mat-card-content>
        <mat-card-actions>
          <button class="btn btn-sm btn-danger" (click)="selectCharacter(character.id)">
            @if(character.favorite){
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-heart-filled" width="20"
              height="20" viewBox="0 0 24 24" stroke-width="1" stroke="#ffffff" fill="none" stroke-linecap="round"
              stroke-linejoin="round">
              <path stroke="none" d="M0 0h24v24H0z" fill="none" />
              <path
                d="M6.979 3.074a6 6 0 0 1 4.988 1.425l.037 .033l.034 -.03a6 6 0 0 1 4.733 -1.44l.246 .036a6 6 0 0 1 3.364 10.008l-.18 .185l-.048 .041l-7.45 7.379a1 1 0 0 1 -1.313 .082l-.094 -.082l-7.493 -7.422a6 6 0 0 1 3.176 -10.215z"
                stroke-width="0" fill="currentColor" />
            </svg>
            } @else {
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-heart" width="20" height="20"
              viewBox="0 0 24 24" stroke-width="1" stroke="#ffffff" fill="none" stroke-linecap="round"
              stroke-linejoin="round">
              <path stroke="none" d="M0 0h24v24H0z" fill="none" />
              <path d="M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572" />
            </svg>
            }
            LIKE</button>
        </mat-card-actions>
      </mat-card>
    </div>
    }

  </div>
  @if(showPagination){
  <mat-paginator (page)="onChangePage($event)" [pageSize]="20" [length]="this.totalData" [pageIndex]="page"
    showFirstLastButtons aria-label="Select page">
  </mat-paginator>
  }
</div>